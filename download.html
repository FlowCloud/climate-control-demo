<!DOCTYPE html>
<html lang="en">
<head>
	<title>Climate Control Demo</title>
	<meta charset="UTF-8" />
	<link rel="stylesheet" type="text/css" href="style.css">
    <link rel="icon" type="image/png" href="./images/img-icon.png">
</head>

<body>
	<div id="GlobalHeaderContainer">
		<div id="GlobalHeader">
			<div class="logo">
				<a href="http://flow.imgtec.com/developers" target="_blank"><img src="./images/flowcloud_logo.png" width="90%" height="90%" /></a>
            </div>
			<div class="sitetitle">Climate Control</div>
		</div>
	</div>
	<div id="NavContainer">
		<nav>
			<div class="navlink">
				<a href="index.html">Home</a>
			</div>
			<div class="navlink">
				<a href="requirements.html">Requirements</a>
			</div>	
			<div class="navlink">
				<a href="devicesetup.html">Device Setup</a>
			</div>
			<div class="navlink">
				<a href="starting_the_system.html">Starting the System</a>
			</div>
			<div class="navlink">
				<a href="download.html" class="current">Download</a>
			</div>
			<div class="navlink">
				<a href="reference.html">Reference</a>
			</div>
		</nav>
	</div>
	
	
    <div class="content">
    		<br/><br/>
    	<h1>Downloading the source code</h1>
    	<p>You can download the different components of the Climate Control Demo System project from <a href="https://github.com/FlowCloud/climate-control-demo" target="_blank">here</a>.</p>
    	<p>You should be able to see the following directory structure:</p>
    	
	   	<div class="c-cmd-line">
			climate-control-demo<br><br>
			|----ci20<br>	
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|-----controller<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----build<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----src<br>
			|----wifire<br>	
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|-----actuator<br>		
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----pic32<br>		
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----src<br>		
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----include<br>	
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|-----common<br>		
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----src<br>		
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----include<br>	
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|-----sensor<br>		
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----pic32<br>		
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----src<br>		
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----include<br>
			|----pc_app<br>	
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|--climate_control<br>		
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----admin<br>		
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----common<br>		
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----display<br>		
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----doc<br>		
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----libflow<br>		
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|----tests				
		</div> 
		
		<p>Clone the github master repo to see following directory structure.</p> 
		<div class="c-cmd-line">
			#git clone https://github.com/FlowCloud/climate-control-demo climate-control-demo<br/><br/>
			#cd climate-control-demo<br/><br/>
			#git checkout master<br/><br/>
			#ls<br/><br/>
			#ci20 pc_app wifire<br/><br/>
		</div> 
		
		<h2>Building Ci20 controller code</h2>
		<ol>
			<li>Connect Ci20 to the internet via WiFi or Ethernet</li>
			<li>Open a terminal on the board itself or telnet/ssh to board from host machine.</li>
			<li>Go to climate-control-demo->Ci20->controller->build</li>
			<li>If you do not give any TARGET then it will build for the architecture from which you are building the code. i.e. 
				 If you are building on Ci20 board, then its built for MIPS, else if you are running from 64bit linux PC, then it gets built for x84_64.
			</li>
		</ol>
		
		<h3>Building Ci20 controller code</h3>
		<div class="c-cmd-line">
			#cd climate-control-demo/ci20/controller/build<br/><br/>
			#make<br/><br/>
		</div> 
		<p>
			Once your build is ready, binary is created at  climate-control-demo/ci20/controller/bin<br/><br/>
			Controller binaries for Ci20 board - flowclimatecontroller.mipsel.bin<br/>
			Controller binaries for 64bit PC - flowclimatecontroller.x86_64.bin<br/>
			Controller binaries for 32bit PC - flowclimatecontroller.i686.bin<br/>
		</p>
		
		<h2>Building Wi-Fire code</h2>
		<ol>
			<li>The pre-requisite for building the Wi-Fire based sensor/actuator projects is to have WiFireHarmonySDK 2.0.2 installed.</li>
			<li>
				Please download necessary tools and SDK from 
				<a href="http://flow.imgtec.com/developers/develop/embedded/pic32mz-free-rtos/downloads" target="_blank">http://flow.imgtec.com/developers/develop/embedded/pic32mz-free-rtos/downloads</a>&nbsp;-
				You will need MPLAB X IDE, MPLAB XC32 Compiler and MPLAB Harmony from the Tools section. You will also need "WiFire Harmony SDK 2.0.2" release 
          		and the "WiFire Harmony SDK Developer getting Started Guide" from the documentation section to install the SDK. 				
			</li>
			<li>This will install libflowcore, libflowmessaging for PIC32. and WiFireHarmonySDK including flow artifacts added over the original harmony 1.03. </li>
			<li>
				Once you have all the contents of the SDK release copied into the harmony/current folder, please verify whether you have lipappbase.X.a, libcyassl.X.a, 
				 libflowcore.X.a, libflowmessaging.X.a in the C:\microchip\harmony\current\bin\third_party (if on windows) and /opt/microchip/harmony/current/bin/third_party (if on linux)
			</li>
			<li>
				Then open MPLAB-X IDE and open appropriate windows or linux project from climate-control-demo->wifire->actuator and climate-control-demo->wifire->sensor.<br/><br/>
				flow_climate_sensor_windows.X<br/>
				flow_climate_sensor_linux.X<br/><br/>
				
				flow_climate_actuator_windows.X<br/>
				flow_climate_actuator_linux.X 
			</li>
			<li>
				Then Press Clean &amp; Build. Once the build is successful , program the hex files on the Wi-Fire board via ICD3 programmer or PICKit3 programmer.
			</li>
			
		</ol>		
		
		    	
    </div>
    
    
    
   <p>&nbsp;<br/><br/><br/><br/><p>
	<div id="FooterMainContainer">
		<div id="FooterContainer">
			<div class="footerlogo">
				<a href="http://www.imgtec.com" target="_blank"><img src="./images/img-footer-logo-grey.png" width="100%" height="100%" /></a>
			</div>
			<div class="copyright">&copy; Imagination Technologies Limited<br> All rights reserved</div>
		</div>
	</div>
</body>

</html>    